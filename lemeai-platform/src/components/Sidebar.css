.sidebar {
  width: 260px;
  background-color: #ffffff;
  height: 100vh;
  display: flex;
  flex-direction: column;
  border-right: 1px solid #e9ecef;
  flex-shrink: 0;
  transition: width 0.2s ease-in-out;
  position: relative;
}

.sidebar-header {
  padding: 20px;
  border-bottom: 1px solid #e9ecef;
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.sidebar-header h3 {
  margin: 0;
  color: #005f73;
  font-size: 24px;
  white-space: nowrap;
}

.sidebar-nav {
  flex-grow: 1;
  padding-top: 20px;
  overflow-x: hidden;
  overflow-y: auto;
}

.sidebar-nav ul {
  list-style: none;
  padding: 0;
  margin: 0;
}

.sidebar-nav li a,
.nav-item-header {
  display: flex;
  align-items: center;
  padding: 15px 25px;
  color: #495057;
  text-decoration: none;
  font-weight: 500;
  transition: all 0.2s ease;
  white-space: nowrap;
  cursor: pointer;
}

.nav-item-header {
  justify-content: space-between;
}

.sidebar-nav li a {
  justify-content: flex-start;
}

.nav-item-content {
  display: flex;
  align-items: center;
}

.sidebar-nav li a:hover,
.nav-item-header:hover {
  background-color: #f8f9fa;
}

.sidebar-nav li.active>a,
.sidebar-nav li.active-parent>.nav-item-header {
  color: #005f73;
  font-weight: 700;
  background-color: #e0f7ff;
  border-right: 4px solid #005f73;
}

.nav-icon {
  margin-right: 15px;
  font-size: 18px;
  min-width: 20px;
}

/* Submenu styles */
.submenu {
  background-color: #f8f9fa;
  border-left: 3px solid #e9ecef;
  /* Optional: visual guide */
}

.submenu li a {
  padding-left: 55px;
  /* Indent submenu items */
  font-size: 0.95em;
}

.submenu li.active a {
  border-right: none;
  /* Subitems might not need the thick border or maybe yes? Let's keep it clean */
  border-right: 4px solid #005f73;
  /* actually let's keep consistency */
}


.sidebar-footer {
  padding: 20px;
  border-top: 1px solid #e9ecef;
  flex-shrink: 0;
}

.logout-button-sidebar {
  width: 100%;
  background: transparent;
  border: none;
  cursor: pointer;
  display: flex;
  align-items: center;
  padding: 10px;
  font-size: 16px;
  color: #495057;
  font-family: inherit;
  border-radius: 6px;
  white-space: nowrap;
}

.logout-button-sidebar:hover {
  background-color: #f8f9fa;
}

.toggle-button {
  background: transparent;
  color: #6c757d;
  border: none;
  border-radius: 6px;
  width: 30px;
  height: 30px;
  cursor: pointer;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 16px;
  transition: background-color 0.2s ease, color 0.2s ease;
}

.toggle-button:hover {
  background-color: #f1f3f5;
  color: #005f73;
}


.sidebar.collapsed .sidebar-header {
  justify-content: center;
  padding-left: 10px;
  padding-right: 10px;
}

.sidebar.collapsed .sidebar-header h3 {
  display: none;
}

.sidebar.collapsed {
  width: 80px;
}

.sidebar.collapsed .sidebar-nav span,
.sidebar.collapsed .sidebar-footer span,
.sidebar.collapsed .nav-chevron {
  /* Hide chevron too */
  opacity: 0;
  width: 0;
  display: inline-block;
  transition: opacity 0.1s ease;
  overflow: hidden;
  /* Ensure width 0 hides content */
}

.sidebar.collapsed .sidebar-nav li a,
.sidebar.collapsed .nav-item-header {
  justify-content: center;
  padding-left: 0;
  padding-right: 0;
}

.sidebar.collapsed .nav-item-content {
  justify-content: center;
}

.sidebar.collapsed .sidebar-nav li.active a,
.sidebar.collapsed .sidebar-nav li.active-parent .nav-item-header {
  border-right: none;
}

.sidebar.collapsed .logout-button-sidebar {
  justify-content: center;
}

.sidebar.collapsed .nav-icon {
  margin-right: 0;
  font-size: 22px;
}

/* Mobile Header Styles */
.mobile-header {
  display: none;
  /* Hidden on desktop */
  height: 80px;
  /* Increased from 60px */
  background-color: #005f73;
  /* Dark teal background */
  color: #fff;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  align-items: center;
  justify-content: space-between;
  padding: 0 20px;
  position: sticky;
  top: 0;
  z-index: 900;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.mobile-menu-btn {
  background: none;
  border: none;
  cursor: pointer;
  display: flex;
  flex-direction: column;
  gap: 6px;
  /* Increased gap */
  padding: 10px;
  /* Increased padding */
}

.hamburger-icon {
  width: 28px;
  /* Increased size */
  height: 3px;
  /* Thicker */
  background-color: #fff;
  /* White icon */
  display: block;
  border-radius: 2px;
}

.mobile-brand {
  font-size: 24px;
  /* Increased font size */
  font-weight: 700;
  color: #fff;
  letter-spacing: 0.5px;
}

/* Sidebar Overlay */
.sidebar-overlay {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.5);
  z-index: 950;
  /* Below sidebar (1000) but above everything else */
  opacity: 0;
  transition: opacity 0.3s ease;
}

.sidebar-overlay.visible {
  opacity: 1;
  pointer-events: auto;
}

@media (max-width: 768px) {
  .dashboard-layout {
    flex-direction: column;
  }

  .mobile-header {
    display: flex;
    /* Show on mobile */
  }

  .sidebar-overlay {
    display: block;
    /* Enable on mobile */
    pointer-events: none;
    /* Default to pass-through unless visible */
  }

  .sidebar {
    position: fixed;
    top: 80px;
    /* Below header */
    left: 0;
    bottom: 0;
    width: 260px;
    height: calc(100% - 80px);
    z-index: 1000;
    transform: translateX(0);
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 2px 0 8px rgba(0, 0, 0, 0.15);
  }

  .sidebar.collapsed {
    transform: translateX(-100%);
    /* Slide out instead of width 0 */
    width: 260px;
    /* Keep width, just move it */
    overflow: visible;
    border: none;
    padding: 0;
    /* padding reset handled below if needed, but width preservation helps */
  }

  /* Reset the "width: 0" style from pervious desktop collapsed logic if it conflicts */
  /* Actually, the previous media query used width: 0. We are overriding it here. */

  .sidebar.collapsed .sidebar-header,
  .sidebar.collapsed .sidebar-nav,
  .sidebar.collapsed .sidebar-footer {
    display: flex;
    /* Keep content visible for when it slides in, or handle visibility */
    /* wait, if we translate X -100%, content is off screen. We don't need to hide it with display:none */
  }

  /* Override previous specific mobile styles if any */
  .sidebar-header {
    display: none;
    /* Hide internal sidebar header on mobile since we have Main Header? 
                      Or keep it for "Collapse" button? 
                      Let's hide the toggle button inside sidebar on mobile since we have the header toggle */
  }

  /* Filter Sidebar Items on Mobile */
  .mobile-hide {
    display: none !important;
  }
}